<p align="center"><a href="https://github.com/ajax333221/isepic-chess#book-documentation">« Return</a></p>

<h1 align="center">Board methods</h1>

Boards created by `Ic.initBoard()` have the following available methods:

<ul>
<li>board.playMove()</li>
<li>board.toggleIsRotated()</li>
<li>board.setPromoteTo()</li>
<li>board.setManualResult()</li>
<li>board.setCurrentMove()</li>
<li>board.navFirst()</li>
<li>board.navPrevious()</li>
<li>board.navNext()</li>
<li>board.navLast()</li>
<li>board.navLinkMove()</li>
<li>board.cloneBoardFrom()</li>
<li>board.cloneBoardTo()</li>
<li>board.fenHistoryExport()</li>
<li>board.pgnExport()</li>
<li>board.uciExport()</li>
<li>board.ascii()</li>
<li>board.getSquare()</li>
<li>board.setSquare()</li>
<li>board.countAttacks()</li>
<li>board.isLegalMove()</li>
<li>board.legalMoves()</li>
<li>board.legalSanMoves()</li>
<li>board.legalUciMoves()</li>
<li>board.isEqualBoard()</li>
</ul>

#### Table `board.<methods>(...)`:

Function | Parameters | Return | UI refresh? | Description
-------- | ---------- | ------ | ----------- | -----------
**playMove**(<br>*mov*,<br>*p*<br>) | <ul><li>mov:<ul><li>**moveSan** (String)</li><li>**moveUci** (String)</li><li>**moveJoined** (String)</li><li>**moveFen** (String)</li><li>**moveFromTo** (Array)</li><li>**move** (Object)</li></ul></li><li>:eight_pointed_black_star:p (Object):<ul><li>:eight_spoked_asterisk:isMockMove (Boolean)</li><li>:eight_spoked_asterisk:promoteTo:<ul><li>**squareBal** (String)</li><li>**squareAbsBal** (String)</li><li>**squareVal** (Number)</li><li>**squareAbsVal** (Number)</li><li>**squareClassName** (String)</li><li>**square** (Object)</li></ul></li><li>:eight_spoked_asterisk:delimiter (String)</li><li>:eight_spoked_asterisk:isLegalMove (Boolean)</li><li>:eight_spoked_asterisk:isInanimated (Boolean)</li></ul></li></ul><hr>:eight_pointed_black_star:Optional Parameter<br>:eight_spoked_asterisk:Optional Object key | Success:<ul><li>**move** (Object)</li></ul><hr>Error:<ul><li>null</li></ul> | Yes | Generates a :pushpin:**move** <sup>(unreferenced copy)</sup>.<br><br>`isMockMove = true` plays the move on a **temporal board** instead of affecting the **board**.<br><br>`isLegalMove = true` skips the legal move validation. This should only be used if the move is known to be a legal move for a specific fen and the current board fen matches it.<br><br>`isInanimated = true` prevents the **piece animation**. The UI refresh takes place normally.<br><br>The Boolean options (`isMockMove`, `isLegalMove` and `isInanimated`) default to `false` when not set to a Boolean value of `true`.<br><br>`promoteTo` takes precedence over everything when specified and a pawn promotion takes place.<br><br>`delimiter` is a single character to look for in **moveJoined** (like `"-" in "a2-a4"`) to allow the use of any delimiters. Defaults to `"-"` if not specified.<hr>Examples:<ul><li>`board.playMove("Nc3") //Object{...}`</li><li>`board.playMove("b1_c3", {delimiter: "_"}) //Object{...}`</li><li>`board.playMove("0invalidmove0") //null`</li></ul><hr>:pushpin:Move documentation link:<ul><li>[move properties](https://github.com/ajax333221/isepic-chess/blob/master/docs/move-properties.md#move-properties).</li></ul>
**toggleIsRotated**(<br>*newIsRotated*<br>) | <ul><li>:eight_pointed_black_star:newIsRotated (Boolean):</li></ul><hr>:eight_pointed_black_star:Optional Parameter | Boolean | Yes | (... *temporal-draft*: toggles (or sets) the **board property** of `board.isRotated`, when passing the Boolean parameter this will set instead of toggle ...)
**setPromoteTo**(<br>*qal*<br>) | <ul><li>qal:<ul><li>**squareBal** (String)</li><li>**squareAbsBal** (String)</li><li>**squareVal** (Number)</li><li>**squareAbsVal** (Number)</li><li>**squareClassName** (String)</li><li>**square** (Object)</li></ul></li></ul> | Boolean | Yes | (... *temporal-draft*: changes the **board property** of `board.promoteTo` after interpreting the input ...)
**setManualResult**(<br>*res*<br>) | <ul><li>res (String)</li></ul> | Boolean | Yes | (... *temporal-draft*: changes the **board property** of `board.manualResult` after interpreting the input. Valid inputs are `"*", "1-0", "0-1" or "1/2-1/2"` and will fallback to `"*"` for invalid inputs ...)
**setCurrentMove**(<br>*val*,<br>*isGoto*<br>) | <ul><li>val (Number)</li><li>:eight_pointed_black_star:isGoto (Boolean)</li></ul><hr>:eight_pointed_black_star:Optional Parameter | Boolean | Yes | (... *temporal-draft*: changes the **board property** of `board.currentMove` either by a shift value or a jump-to value ...)
**navFirst**() | - | Boolean | Yes | Performs a `board.setCurrentMove(0)`.<hr>Examples:<ul><li>`board.navFirst() //true`</li><li>`board.navFirst() //false`</li></ul>
**navPrevious**() | - | Boolean | Yes | Performs a `board.setCurrentMove(board.currentMove-1)`.<hr>Examples:<ul><li>`board.navPrevious() //true`</li><li>`board.navPrevious() //false`</li></ul>
**navNext**() | - | Boolean | Yes | Performs a `board.setCurrentMove(board.currentMove+1)`.<hr>Examples:<ul><li>`board.navNext() //true`</li><li>`board.navNext() //false`</li></ul>
**navLast**() | - | Boolean | Yes | Performs a `board.setCurrentMove(board.moveList.length-1)`.<hr>Examples:<ul><li>`board.navLast() //true`</li><li>`board.navLast() //false`</li></ul>
**navLinkMove**(<br>*moveIndex*<br>) | <ul><li>moveIndex (Number)</li></ul> | Boolean | Yes | Performs a `board.setCurrentMove(moveIndex)`.<hr>Examples:<ul><li>`board.navLinkMove(2) //true`</li><li>`board.navLinkMove(2) //false`</li></ul>
**cloneBoardFrom**(<br>*fromBoard*<br>) | <ul><li>fromBoard:<ul><li>**boardName** (String)</li><li>**board** (Object)</li></ul></li></ul> | Boolean | Yes | (... *temporal-draft*: copies all the board properties (except `board.boardName`) from another board into this board ...)
**cloneBoardTo**(<br>*toBoard*<br>) | <ul><li>toBoard:<ul><li>**boardName** (String)</li><li>**board** (Object)</li></ul></li></ul> | Boolean | Yes | (... *temporal-draft*: copies all the board properties (except `board.boardName`) from this board into another board ...)
**fenHistoryExport**() | - | Array | No | Returns the **FEN history** list.<br><br>The first element (index 0) holds the initial fen position.
**pgnExport**() | - | String | No | Returns the **PGN** as text.<br><br>A line feed `\n` is used as the line break character.
**uciExport**() | - | String | No | Returns the **UCI** moves as text.
**ascii**(<br>*isRotated*<br>) | <ul><li>:eight_pointed_black_star:isRotated (Boolean):</li></ul><hr>:eight_pointed_black_star:Optional Parameter | String | No | Returns the **chess diagram** as text.<br><br>Boolean parameters will take precedence over the **board property** of `board.isRotated`.<br><br>A line feed `\n` is used as the line break character.
**getSquare**(<br>*qos*,<br>*p*<br>) | <ul><li>qos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li><li>:eight_pointed_black_star:p (Object):<ul><li>:eight_spoked_asterisk:rankShift (Number): `-7 to 7`</li><li>:eight_spoked_asterisk:fileShift (Number): `-7 to 7`</li><li>:eight_spoked_asterisk:isUnreferenced (Boolean)</li></ul></li></ul><hr>:eight_pointed_black_star:Optional Parameter<br>:eight_spoked_asterisk:Optional Object key | Success:<ul><li>**square** (Object)</li></ul><hr>Error:<ul><li>null</li></ul> | No | Returns a :pushpin:**square**.<br><br>If the **square** is invalid (before or after shifting by `rankShift` and `fileShift`), then `null` will be returned.<br><br>`isUnreferenced = true` means that the returned **square** will not be referenced (updates made to the **board** do not affect these unreferenced copies).<br><br>The Boolean option `isUnreferenced` defaults to `false` when not set to a Boolean value of `true`.<hr>Examples:<ul><li>`board.getSquare("e4") //Object{...}`</li><li>`board.getSquare("a1", {rankShift:-7, fileShift:7}) //Object{...}`</li><li>`board.getSquare("0invalidsquare0") //null`</li></ul><hr>:pushpin:Square documentation link:<ul><li>[square properties](https://github.com/ajax333221/isepic-chess/blob/master/docs/square-properties.md#square-properties).</li></ul>
**setSquare**(<br>*qos*,<br>*qal*,<br>*p*<br>) | <ul><li>qos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li><li>qal:<ul><li>**squareBal** (String)</li><li>**squareAbsBal** (String)</li><li>**squareVal** (Number)</li><li>**squareAbsVal** (Number)</li><li>**squareClassName** (String)</li><li>**square** (Object)</li></ul></li><li>:eight_pointed_black_star:p (Object):<ul><li>:eight_spoked_asterisk:rankShift (Number): `-7 to 7`</li><li>:eight_spoked_asterisk:fileShift (Number): `-7 to 7`</li></ul></li></ul><hr>:eight_pointed_black_star:Optional Parameter<br>:eight_spoked_asterisk:Optional Object key | Boolean | No | (... *temporal-draft*: changes the **board property** of `board.squares.x`, it updates the **king bos** `board.w.kingBos` and `board.b.kingBos` when setting a king, the **square** object will have every non-static property updated, supports the rank/file shifting like `board.getSquare()`, Note: no validation happens, no castle rights get updated and no UI refresh occurs ...)
**countAttacks**(<br>*qos*,<br>*earlyBreak*<br>) | <ul><li>:eight_pointed_black_star:qos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li><li>:eight_pointed_black_star:earlyBreak (Boolean)</li></ul><hr>:eight_pointed_black_star:Optional Parameter | Number | No | (... *temporal-draft*: this can be called to know how many times enemy pieces are attacking a square, you can pass a boolean to short-circuit and stop looking after a single attack on the square and you will get 0 or 1, it is a waste of resources to re-count the times attacked to the king square as this information is already calculated and stored in `board.checks`, the active side king bos will be used as default if the optional qos is missing ...)
**isLegalMove**(<br>*mov*,<br>*p*<br>) | <ul><li>mov:<ul><li>**moveSan** (String)</li><li>**moveUci** (String)</li><li>**moveJoined** (String)</li><li>**moveFen** (String)</li><li>**moveFromTo** (Array)</li><li>**move** (Object)</li></ul></li><li>:eight_pointed_black_star:p (Object):<ul><li>:eight_spoked_asterisk:delimiter (String)</li></ul></li></ul><hr>:eight_pointed_black_star:Optional Parameter<br>:eight_spoked_asterisk:Optional Object key | Success:<ul><li>Boolean</li></ul><hr>Error:<ul><li>Boolean: `false`</li></ul> | No | Test to see if a move is legal or not.<br><br>`delimiter` is a single character to look for in **moveJoined** (like `"-" in "a2-a4"`) to allow the use of any delimiters. Defaults to `"-"` if not specified.<hr>Examples:<ul><li>`board.isLegalMove("Nf3") //true`</li><li>`board.isLegalMove("g1f3") //true`</li><li>`board.isLegalMove("g1-f3") //true`</li><li>`board.isLegalMove("g1_f3", {delimiter : "_"}) //true`</li><li>`board.isLegalMove("rnbqkbnr/pppppppp/8/8/8/5N2/PPPPPPPP/RNBQKB1R b KQkq - 1 1") //true`</li><li>`board.isLegalMove(["g1", [5, 5]]) //true`</li><li>`board.isLegalMove("0invalidsan0") //false`</li><li>`board.isLegalMove("a1-h7") //false`</li><li>`board.isLegalMove(["a1", "0invalidsquare0"]) //false`</li></ul>
**legalMoves**(<br>*initialQos*,<br>*p*<br>) | <ul><li>initialQos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li><li>:eight_pointed_black_star:p (Object):<ul><li>:eight_spoked_asterisk:returnType (String)</li><li>:eight_spoked_asterisk:squareType (String)</li><li>:eight_spoked_asterisk:delimiter (String)</li></ul></li></ul><hr>:eight_pointed_black_star:Optional Parameter<br>:eight_spoked_asterisk:Optional Object key | Success:<ul><li>**finalBosArray** (Array)</li></ul><hr>Error:<ul><li>Array: `[]`</li></ul> | No | Returns a **final bos array** with all the squares that a piece from an **initial qos** square can legally move to.<br><br>Passing an **initial qos** square with a **square val** of `0` or a **non active sign** will result in a `[]`.<br><br>`returnType` accepted values: `"joined"`, `"fromToSquares"`, `"san"`, `"uci"` and `"toSquare"`. Defaults to `"toSquare"` if not specified.<br><br>`squareType` accepted values: `"square"`, `"pos"` and `"bos"`. Defaults to `"bos"` if not specified. Only used in `returnType = "fromToSquares" and returnType = "toSquare"`.<br><br>`delimiter` is a single character to be used in `returnType = "joined"`. Defaults to `"-"` if not specified.<hr>Examples:<ul><li>`board.legalMoves("b1") //["c3", "a3"]`</li><li>`board.legalMoves("a3") //[]`</li><li>`board.legalMoves("e7") //[]`</li><li>`board.legalMoves("0invalidsquare0") //[]`</li></ul>
**legalSanMoves**(<br>*initialQos*<br>) | <ul><li>initialQos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li></ul> | Success:<ul><li>**finalSanArray** (Array)</li></ul><hr>Error:<ul><li>Array: `[]`</li></ul> | No | Returns a **final san array** with all the san moves that a piece from an **initial qos** square can legally move to.<br><br>Passing an **initial qos** square with a **square val** of `0` or a **non active sign** will result in a `[]`.<br><br>All pawn promotions will be included.<hr>Examples:<ul><li>`board.legalSanMoves("b1") //["Nc3", "Na3"]`</li><li>`board.legalSanMoves("a3") //[]`</li><li>`board.legalSanMoves("e7") //[]`</li><li>`board.legalSanMoves("0invalidsquare0") //[]`</li></ul>
**legalUciMoves**(<br>*initialQos*<br>) | <ul><li>initialQos:<ul><li>**squareBos** (String)</li><li>**squarePos** (Array)</li><li>**square** (Object)</li></ul></li></ul> | Success:<ul><li>**finalUciArray** (Array)</li></ul><hr>Error:<ul><li>Array: `[]`</li></ul> | No | Returns a **final uci array** with all the uci moves that a piece from an **initial qos** square can legally move to.<br><br>Passing an **initial qos** square with a **square val** of `0` or a **non active sign** will result in a `[]`.<br><br>All pawn promotions will be included.<hr>Examples:<ul><li>`board.legalUciMoves("b1") //["b1c3", "b1a3"]`</li><li>`board.legalUciMoves("a3") //[]`</li><li>`board.legalUciMoves("e7") //[]`</li><li>`board.legalUciMoves("0invalidsquare0") //[]`</li></ul>
**isEqualBoard**(<br>*toBoard*<br>) | <ul><li>toBoard:<ul><li>**boardName** (String)</li><li>**board** (Object)</li></ul></li></ul> | Success:<ul><li>Boolean</li></ul><hr>:small_red_triangle_down:Error:<ul><li>Boolean: `false`</li></ul> | No | Tests for the equality of the [board properties](https://github.com/ajax333221/isepic-chess/blob/master/docs/board-properties.md#board-properties) <sup>(except for `board.boardName`)</sup> between the calling **board** and another **board**.<hr>Examples:<ul><li>`board.isEqualBoard("board_copy") //true`</li><li>`board.isEqualBoard(other_board) //false`</li><li>`same_board.isEqualBoard(same_board) //true`</li><li>`other_board.isEqualBoard("nonexistent") //false`</li></ul><hr>:small_red_triangle_down:Error emits a `console.log(...)` if the *to board* is not found.

<sup>And the [board UI methods](https://github.com/ajax333221/isepic-chess-ui#list-of-boarduimethods) when **isepic-chess-ui.js** is present.</sup>

<p align="center"><a href="https://github.com/ajax333221/isepic-chess#book-documentation">« Return</a></p>
